(this.webpackJsonpstudents=this.webpackJsonpstudents||[]).push([[0],[,,function(e){e.exports=JSON.parse('{"url":{"commitURL":"http://10.3.105:8030/commit","serverURL":"http://10.3.105:8030/api"},"img":{"back":"./back.svg","browser":"./browser.svg","calendar":"./calendar.svg","close":"./close.svg","code":"./code.svg","commit":"./commit.svg","file":"./file.svg","folder":"./folder.svg","puzzle":"./puzzle.svg","select":"./select.svg","user":"./user.svg"},"supportImageFormat":[".svg",".png"]}')},,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(6),i=c.n(r),a=c(3),l=(c(11),c(12),c(0));var o=function(e){return Object(l.jsxs)("section",{className:"students-list",children:[Object(l.jsx)("h2",{className:"title",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432"}),Object(l.jsx)("ul",{className:"all-students",children:e.children})]})};c(14);var m=function(e){return Object(l.jsx)("section",{className:"view",children:e.children})},u=(c(15),c(2));var h=function(e){var t=Object(n.useState)(!1),c=Object(a.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)([]),o=Object(a.a)(i,2),m=o[0],h=o[1];return Object(l.jsxs)("li",{children:[Object(l.jsxs)("div",{className:"card",onClick:function(){var t;!1===s?(r((function(e){return!e})),t=e.href,fetch("".concat(u.url.serverURL).concat(t)).then((function(e){return e.json()})).then((function(t){console.log(t),Array.isArray(t)&&h(e.create(t))}))):(r((function(e){return!e})),h([]))},children:[Object(l.jsx)("img",{className:"card-img",src:u.img.user,width:"28",height:"28",alt:"user"}),Object(l.jsx)("p",{className:"person",title:e.title,children:e.title})]}),Object(l.jsx)("ul",{className:"sub-card",children:m})]})};var d=function(e){return Object(l.jsxs)("li",{className:"card",onClick:function(){e.click(e.href),e.setParentHref(e.href)},children:[Object(l.jsx)("img",{className:"card-img",src:u.img.puzzle,width:"28",height:"28",alt:"task"}),Object(l.jsx)("p",{children:e.title})]})};c(16);var j=function(e){return Object(l.jsxs)("header",{className:"view-header",children:[Object(l.jsx)("img",{className:"view-img",src:u.img.user,alt:"user",width:"28",height:"28"}),Object(l.jsx)("p",{children:e.url})]})};c(17);var f=function(e){var t=new Date(1e3*e.date),c=new Intl.DateTimeFormat("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});return Object(l.jsxs)("div",{className:"commitCard",onClick:function(){return function(t){var c=e.href+"?commit="+t;e.creater(c,!1),e.setDisplay("none"),console.log(c)}(e.date)},children:[Object(l.jsx)("p",{className:"commitMessage",children:e.message}),Object(l.jsx)("p",{className:"commitDate",children:c.format(t).replace(",","")})]})};c(18);var b=function(e){var t=e.commits;return Object(l.jsx)("section",{className:"commitTemplate",style:{display:e.display},children:t.length>0?t.map((function(t){return Object(l.jsx)(f,{setDisplay:e.setDisplay,href:e.href,creater:e.creater,url:e.url,message:t.message,date:t.simpleDateFormat},e.keyCreator())})):Object(l.jsx)("p",{children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e!"})})},O=c(4),g=c.n(O);var p=function(e){var t=Object(n.useState)([]),c=Object(a.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)("none"),o=Object(a.a)(i,2),m=o[0],h=o[1],d=e.commitUrl+e.url;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("section",{className:"search",children:[Object(l.jsx)("input",{onChange:function(e){h("block"),fetch(d).then((function(e){return e.json()})).then((function(t){return r((function(){return t.filter((function(t){return console.log(t),t.message.toLowerCase().includes(e.target.value.toLowerCase())}))}))})).catch((function(e){return console.log(e)})),""===e.target.value.trim()&&h("none")},className:"search-input",type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a"}),Object(l.jsxs)("div",{className:"search-item search-item__item",children:[Object(l.jsx)("img",{className:"search-img",src:u.img.calendar,alt:"date",width:"22",height:"22"}),Object(l.jsxs)("div",{className:"text-item",children:[Object(l.jsx)("input",{id:"date-date",className:"search-item_date",defaultValue:"31.12.2021",type:"text"}),Object(l.jsx)("input",{id:"time-date",className:"search-item_date",defaultValue:"00:00",type:"text"}),Object(l.jsx)("button",{className:"search-item_date btn-date",onClick:function(e){h("block");var t=document.getElementById("time-date"),c=document.getElementById("date-date"),n=c.value+" "+t.value+":59",s=g()(n,"DD/MM/YYYY HH:mm:ss").format("DD.MM.YYYY HH:mm:ss");if("Invalid date"!==s&&t.value.length<6&&c.value.length<11){var i=g()(s,"DD.MM,YYYY HH:mm:ss").format("X");console.log(i),fetch(d+"?unixTime="+i).then((function(e){return e.json()})).then((function(e){return r(e)}))}else h("none"),alert("\u0414\u0430\u0442\u0430 \u0438\u043b\u0438 \u0432\u0440\u0435\u043c\u044f, \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e!"),t.value="00:00",c.value=g()(new Date,"DD/MM/YYYY").format("DD.MM.YYYY")},children:"\u041f\u043e\u0438\u0441\u043a"})]})]}),Object(l.jsxs)("div",{className:"search-item search-item-i",onClick:function(){"none"===m?(fetch(d).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(){return console.log("err")})),h("block")):(h("none"),r([]))},children:[Object(l.jsx)("img",{className:"search-img",src:u.img.select,alt:"date",width:"22",height:"22"}),Object(l.jsx)("p",{className:"text-item",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0438\u0442"})]})]}),Object(l.jsx)(b,{setCommitDate:e.setCommitDate,setCommit:e.setCommit,setDisplay:h,href:e.href,creater:e.creater,url:e.url,display:m,commits:s,keyCreator:e.keyCreator})]})};c(20);var x=function(e){return Object(l.jsxs)("div",{className:"Tree",children:[Object(l.jsxs)("div",{style:{display:"block",width:"100%",height:"40px"},children:[Object(l.jsx)("button",{style:{float:"left"},className:"prev-Tree",onClick:function(){var t=e.fileUrl.split("/");t.pop(),(t=t.join("/")).includes(".git")&&(e.setData(t),fetch("".concat(u.url.serverURL).concat(t,"?drop=all")))},children:Object(l.jsx)("img",{src:u.img.back,alt:"back",width:"22",height:"22"})}),Object(l.jsxs)("p",{className:"commit-naming",title:e.commit,children:["Commit: ",e.commit]})]}),e.create(e.data,!0)]})};c(21);var v=function(e){var t,c,n=e.url+e.href;if("FOLDER"===e.type||"REPOSITORY"===e.type)t=Object(l.jsx)("img",{src:u.img.folder,width:"22",height:"22"}),c="";else{t=Object(l.jsx)("img",{src:u.img.file,width:"22",height:"22"});for(var s=0;s<u.supportImageFormat.length;s++)c=Object(l.jsx)("img",{className:"tree-card-img",src:u.img.code,alt:"date",width:"22",height:"22",onClick:function(){e.showCode({display:"flex"}),e.sethref(n)}})}var r=new Intl.DateTimeFormat("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"});return Object(l.jsxs)("div",{className:"tree-card",children:[t,Object(l.jsx)("p",{className:"tree-card-item",onClick:function(){"FOLDER"!==e.type&&"REPOSITORY"!==e.type?window.open(n):fetch(n).then((function(e){return e.json()})).then((function(t){e.data(t),e.setFileUrl(e.href)}))},children:e.title}),Object(l.jsx)("p",{className:"tree-card-item",title:e.commitName,children:e.commitName}),Object(l.jsx)("p",{className:"tree-card-item",children:r.format(1e3*e.commitDate).replace(",","")}),c]})};c(22);var y=function(e){var t=Object(n.useState)(""),c=Object(a.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(""),o=Object(a.a)(i,2),m=o[0],h=o[1];return fetch(e.href).then((function(e){return e.text()})).then((function(t){var c=document.getElementById("code"),n=document.getElementById("img-Code");!0===e.href.includes(".svg")||!0===e.href.includes(".ico")||!0===e.href.includes(".png")||!0===e.href.includes(".jpg")?(h(e.href),setTimeout((function(){c.style.display="none",n.style.display="block"}),0)):(r(t),setTimeout((function(){c.style.display="block",n.style.display="none"}),0))})),Object(l.jsx)("div",{className:"bg-view",style:e.style,children:Object(l.jsxs)("div",{className:"ViewCode",children:[Object(l.jsx)("img",{className:"closeBtn",onClick:function(){return e.showCode({display:"none"})},src:u.img.close,alt:"close",width:"22",height:"22"}),Object(l.jsx)("pre",{id:"code",className:"ViewContent",children:s}),Object(l.jsx)("div",{className:"ViewContentImg",children:Object(l.jsx)("img",{id:"img-Code",src:m,className:"ViewImg--S",alt:"view"})})]})})},N=u.url.serverURL,w=u.url.commitURL;var C=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)([]),i=Object(a.a)(r,2),u=i[0],f=i[1],b=Object(n.useState)(""),O=Object(a.a)(b,2),g=O[0],C=O[1],D=Object(n.useState)({display:"none"}),k=Object(a.a)(D,2),Y=k[0],S=k[1],F=Object(n.useState)(""),I=Object(a.a)(F,2),M=I[0],T=I[1],U=Object(n.useState)(""),L=Object(a.a)(U,2),R=L[0],E=L[1],H=Object(n.useState)(""),B=Object(a.a)(H,2),z=B[0],P=B[1];window.onload=function(){fetch(N).then((function(e){return e.json()})).then((function(e){return s(e)}))};var V=function(e,t){fetch(N+e).then((function(e){return e.json()})).then((function(c){"Exception of load commit"===c.result?alert(c.result):(!1!==t&&C(e),f(c))}))},_=function(){return Math.floor(Date.now())+Math.random().toString()},J=function(e){return e.map((function(e){return Object(l.jsx)(d,{title:e.name,click:V,href:e.href,setParentHref:E},_())}))},A=function(e){fetch(w+R+"/allcommits").then((function(e){return e.json()})).then((function(t){t.map((function(t){+t.simpleDateFormat===e&&P(t.message)}))}))};return Object(l.jsxs)("section",{className:"main-content",children:[Object(l.jsx)(o,{children:c.map((function(e){return Object(l.jsx)(h,{create:J,title:e.name,href:e.href},_())}))}),Object(l.jsxs)(m,{children:[Object(l.jsx)(j,{url:g}),Object(l.jsx)(p,{href:g,creater:V,keyCreator:_,commitUrl:w,url:g}),Object(l.jsx)("section",{className:"view-content",children:Object(l.jsx)(x,{create:function(e){return e.map((function(e){return Object(l.jsx)(v,{commitDate:e.commitTime,commit:A(e.commitTime),sethref:T,showCode:S,setFileUrl:C,url:N,title:e.name,href:e.href,type:e.state,data:f},_())}))},url:N,commit:z,data:u,setData:V,fileUrl:g,setFileUrl:C})})]}),Object(l.jsx)(y,{style:Y,showCode:S,href:M})]})},D=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),r(e),i(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(C,{})}),document.getElementById("root")),D()}],[[23,1,2]]]);
//# sourceMappingURL=main.58efddc0.chunk.js.map